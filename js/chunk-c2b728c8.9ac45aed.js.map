{"version":3,"sources":["webpack:///./src/assets/banner/2.jpg","webpack:///./src/assets/banner/1.jpg","webpack:///./src/components/Tabs.vue?e8a5","webpack:///./src/components/Tabs.vue?0da1","webpack:///./src/components/Tabs.vue","webpack:///./src/components/carousel/Carousel.vue","webpack:///./src/components/carousel/useCarousel.ts","webpack:///./src/components/carousel/Carousel.vue?e561","webpack:///./src/components/carousel/Carousel.vue?9f76","webpack:///./src/views/Test.vue?3b62","webpack:///./src/views/Test.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/Test.vue?4613","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/components/carousel/Carousel.vue?fe93","webpack:///./src/assets/banner/3.jpg"],"names":["module","exports","expose","props","tabs","type","Array","default","bg","String","color","animationColor","width","emits","setup","__props","emit","_ctx","tabsWidth","value","animationWidth","animationLeft","tabsInfo","is","docState","tabCut","index","tab","current","find","info","id","frontTabsInfo","filter","left","reduce","length","name","receiveTab","el","findIndex","innerText","style","dataset","push","$el","isShow","i","ref","onMounted","nextTick","computed","primaryColor","__scopeId","class","round","receiveBannerBox","images","src","key","receiveSubfixItem","data-key","shift","receiveSubfixItemInner","iconClass","iconShift","icon","height","_this","args","subIndex","imgMap","bannerElm","countDownTimer","imgWidth","subfixItems","subfixItemsInner","v","o","isArray","forEach","img","immediate","imgRoll","shiftNode","timer","setInterval","removeNode","removeChild","children","appendChild","clearInterval","clearSub","subfixInnerElms","document","getElementsByClassName","elm","shiftSub","countDown","offsetWidth","subfixInnerElm","event","oldSubIndex","Number","target","shiftImg","firstNode","includes","shiftIndex","indexOf","beforeImgs","currentImg","slice","rmNode","flag","components","Icon","Boolean","iconRound","content","use","classes","render","__default__","$message","searchValue","state","menuExpand","pageLoading","visible","search","receiveClick","tabsChange","receiveStateChange","setTimeout","inject","watch","SearchBar","AppleButton","Tabs","Carousel","AppleSwitch","VInput","VMenu","Drawer","IMessage","refresh","$","$find","addToUnscopables","FIND","SKIPS_HOLES","proto","forced","callbackfn","this","arguments","undefined","$findIndex","FIND_INDEX"],"mappings":"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","file":"js/chunk-c2b728c8.9ac45aed.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/2.3b1e4335.jpg\";","module.exports = __webpack_public_path__ + \"img/1.411330a5.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tabs.vue?vue&type=style&index=0&id=199895a5&scoped=true&lang=css\"","import { useCssVars as _useCssVars, unref as _unref, defineComponent as _defineComponent } from 'vue'\nimport { ref, onMounted, nextTick, computed } from \"vue\";\nimport { primaryColor } from '@/config/layout.ts';\n\nexport default _defineComponent({\n  expose: [],\n  props: {\n  tabs: {\n    type: Array,\n    default: () => [\"标签1\", \"标签2\"],\n  },\n  bg: {\n    type: String,\n    default: \"#fff\",\n  },\n  color: {\n    type: String,\n    default: \"#000\",\n  },\n  animationColor: {\n    type: String,\n    default: primaryColor,\n  },\n  width: {\n    type: String,\n    default: \"\",\n  }\n},\n  emits: ['change'],\n  setup(__props, { emit }) {\n\nconst props = __props\n_useCssVars(_ctx => ({\n  \"bdda1ea4-tabsWidth\": (tabsWidth.value),\n  \"bdda1ea4-bg\": (__props.bg),\n  \"bdda1ea4-tabsWidth\": (tabsWidth.value),\n  \"bdda1ea4-color\": (__props.color),\n  \"bdda1ea4-animationColor\": (__props.animationColor),\n  \"bdda1ea4-animationWidth\": (animationWidth.value),\n  \"bdda1ea4-animationLeft\": (animationLeft.value),\n  \"bdda1ea4-tabsWidth\": (tabsWidth.value)\n}))\n\n\n\nconst tabsInfo = ref<\n    Array<{ $el: HTMLElement; length: number; id: number }>\n    >([]);\nconst animationWidth = ref(\"0px\");\nconst animationLeft = ref(\"0px\");\nconst tabsWidth = ref(\"0px\");\nconst is = ref(0);\nconst docState = ref('saved');\n\n/* 跳转标签 */\nconst tabCut = (index: number, tab: string) => {\n  const current = tabsInfo.value.find((info) => info.id === index);\n  const frontTabsInfo = tabsInfo.value.filter((info) => info.id < index);\n  const left = frontTabsInfo.reduce((left, info) => (left += info.length), 0);\n  animationLeft.value = `${left}px`;\n  animationWidth.value = `${current?.length}px`;\n  is.value = index;\n  emit(\"change\", { ...current, name: tab });\n};\n/* 接收元素 */\nconst receiveTab = (el: HTMLElement, index: number) => {\n  if (tabsInfo.value.findIndex(info => info.id === index) === -1) {\n    const length = el.innerText.length * 40;\n    el.style.width = `${length}px`;\n    el.dataset.id = `${index}`;\n    tabsInfo.value.push({ $el: el, length, id: index });\n    if (index === 0) {\n      animationWidth.value = `${length}px`;\n    }\n  }\n};\n\n/* 是否显示当前组件 */\nconst isShow = computed(() => (i: number) => i === is.value);\n\nonMounted(() => {\n  nextTick(() => {\n    const width = tabsInfo.value.reduce((width, info) => (width += info.length), 0);\n    tabsWidth.value = props.width || `${width}px`;\n  });\n});\n\nreturn { props, emit, tabsInfo, animationWidth, animationLeft, tabsWidth, is, docState, tabCut, receiveTab, isShow, ref, onMounted, nextTick, computed, primaryColor }\n}\n\n})","import script from \"./Tabs.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Tabs.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Tabs.vue?vue&type=style&index=0&id=199895a5&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-199895a5\"\n\nexport default script","<template>\n  <div id=\"box\" :class=\"{ 'v-radius': round, 'v-hidden': round }\">\n    <!-- 图片 -->\n    <div id=\"banner\">\n      <div id=\"banner-inner\" :ref=\"receiveBannerBox\">\n        <img v-for=\"(src, i) of images\" :key=\"i\" :src=\"src\" class=\"v-fill-size\">\n      </div>\n    </div>\n\n    <!-- 下标 -->\n    <div id=\"subfix\">\n      <template v-for=\"(src, i) of images\" :key=\"i\">\n        <div :ref=\"receiveSubfixItem\" class=\"subfix-item v-blur\" :data-key=\"i\" @click=\"shift\">\n          <div :ref=\"receiveSubfixItemInner\" class=\"subfix-item-inner v-blur\" :data-key=\"i\"></div>\n        </div>\n      </template>\n    </div>\n\n    <!-- 左右两边的按钮 -->\n    <div class=\"left carousel-icon\" :class=\"iconClass\" @click=\"iconShift('left')\">\n      <v-icon icon=\"icon-left-circle-fill\" width=\"2em\" height=\"2em\"  color=\"#fff\" />\n    </div>\n    <div class=\"right carousel-icon\" :class=\"iconClass\" @click=\"iconShift('right')\">\n      <v-icon icon=\"icon-right-circle-fill\" width=\"2em\" height=\"2em\" color=\"#fff\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, nextTick, computed } from \"vue\";\nimport { useCarousel } from \"./useCarousel.ts\";\nimport Icon from '@/components/Icon.vue';\nexport default defineComponent({\n  name: \"Carousel\",\n  components: {\n    'v-icon': Icon\n  },\n  props: {\n    round: {\n      type: Boolean,\n      default: false\n    },\n    images: {\n      type: Array,\n      default: () => []\n    },\n    iconRound: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, content) {\n    const use = useCarousel(props, content);\n    const iconClass = computed(() => {\n      const classes = [];\n      classes.push(props.iconRound ? 'icon-round' : 'icon-plane');\n      return classes;\n    });\n    onMounted(() => {\n      nextTick(() => {\n        use.countDown();\n      });\n    });\n    return { ...use, iconClass };\n  }\n});\n</script>\n\n\n<style scoped>\n.subfix-item {\n  background: rgba(0, 0, 0, 0.3);\n  width: 60px;\n  height: 5px;\n  margin: 15px;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: 40px;\n}\n.subfix-item-inner {\n  height: 100%;\n  width: 0%;\n  background: #fff;\n  transition: all .25s ease-out;\n}\n#box {\n  width: 900px;\n  height: 600px;\n  box-shadow: 0 12px 40px #333;\n  overflow: hidden;\n  position: relative;\n}\n#box:hover .carousel-icon {\n  opacity: 1;\n}\n#subfix {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n#banner {\n  width: 100%;\n  height: 100%;\n}\n#banner-inner {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  /* 1200为一个临界点 */\n  left: 0;\n  top: 0;\n  display: flex;\n}\n.carousel-icon {\n  position: absolute;\n  width: 50px;\n  cursor: pointer;\n  transition: opacity .25s ease-out;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n}\n\n.carousel-icon:hover {\n  backdrop-filter: blur(10px);\n}\n\n.icon-round {\n  border-radius: 50%;\n  top: 50%;\n  height: 50px;\n}\n\n.icon-plane {\n  height: 96%;\n  top: 2%;\n  border-radius: 40px;\n}\n\n.left {\n  left: 10px;\n}\n\n.right {\n  right: 10px;\n}\n</style>","import { ref, watch } from 'vue';\ntype ItemType = 'left' | 'right';\n\nconst useCarousel = <T>(props: any, _this: any, args?: T & any) => {\n  /* 定义变量 */\n  const subIndex = ref(0);\n  const imgMap: any = ref({});  // 图片下标映射{ 0: '1.png' }\n  const bannerElm = ref(null);\n  const countDownTimer = ref(0);\n  const imgWidth = ref(0);\n  const subfixItems = ref<Array<HTMLElement>>([]);\n  const subfixItemsInner = ref<Array<HTMLElement>>([]);\n\n  /* 监听属性 */\n  watch(() => props.images, (v, o) => {\n    if (Array.isArray(v)) {\n      v.forEach((img, i) => imgMap.value[i] = img);\n    }    \n  }, { immediate: true });\n\n  // @ts-ignore\n  const receiveBannerBox = (el: HTMLElement) => bannerElm.value = el;\n  const receiveSubfixItem = (el: HTMLElement) => subfixItems.value.push(el);\n  const receiveSubfixItemInner = (el: HTMLElement) => subfixItemsInner.value.push(el);\n\n  // 切换图片(图片滚动)\n  const imgRoll = (shiftNode?: Array<any>) => {\n    let timer = setInterval(() => {\n      // 最后一张\n      imgWidth.value += 12;\n      (bannerElm.value as any as HTMLElement).style.left = -imgWidth.value + 'px';\n      // 切换完成的时候 重置left以及操作dom将第一个扔到最后一个去\n      if (imgWidth.value === 0 || !(imgWidth.value % 900)) {\n        // 删除第一项\n        const removeNode = (bannerElm.value as any as HTMLElement).removeChild((bannerElm.value as any as HTMLElement).children[0]);\n        (bannerElm.value as any as HTMLElement).appendChild(removeNode);\n        // 如果是切换的话, 那么切换的图片最后添加到列表中\n        if (shiftNode && shiftNode.length > 0) {\n          [...shiftNode].forEach(el => {\n            (bannerElm.value as any as HTMLElement).appendChild(el);\n          })\n        }\n        (bannerElm.value as any as HTMLElement).style.left = '0px';\n        imgWidth.value = 0;\n        clearInterval(timer);\n      }\n    }, 10);\n  }\n\n  // 清空下标\n  const clearSub = () => {\n    const subfixInnerElms: any = document.getElementsByClassName('subfix-item-inner');\n    [...subfixInnerElms].forEach((elm: HTMLElement) => (elm.style.width = '0%'));\n  }\n\n  // 切换下标\n  const shiftSub = (index: number) => {\n    /**\n     * 下标的几种情况:\n     * 1. 如果当前点击的下标是0, 直接把所有的下标清空\n     * 2. 如果当前点击的下标不是0, 则把当前下标之前的下标 全部填充\n     * */\n    subIndex.value = index;\n    clearSub();\n    if (index !== 0) {\n      subfixItemsInner.value.forEach((elm, i) => (i < index) && (elm.style.width = '100%'));\n    }\n  }\n\n  // 倒计时\n  const countDown = (shift?: boolean) => {\n    /**\n     * @param {Boolean} shift 是否切换, 如果是切换的话 直接停止定时器\n    */\n    // 60px  3s\n    if (shift) return clearInterval(countDownTimer.value);\n    let offsetWidth = 0;\n    countDownTimer.value = setInterval(() => {\n      // 给下标加动画\n      const subfixInnerElm = subfixItemsInner.value[subIndex.value];\n      offsetWidth += 1;\n      (subfixInnerElm as HTMLElement).style.width = offsetWidth + '%';\n      // 如果下标的宽度到了100%就切换\n      if (offsetWidth >= 100) {\n        subIndex.value += 1;\n        offsetWidth = 0;\n        imgRoll();\n        // 到了最后一张图片 清空subfixInner的width\n        if (subIndex.value >= props.images.length) {\n          subIndex.value = 0;\n          clearSub();\n        }\n      }\n    }, 50);\n  }\n\n  // 主动切换(下标)\n  const shift = (event: MouseEvent | number, icon: boolean) => {\n    // 当点击切换的时候, 要从当前的图片切换到点击的图片\n    const oldSubIndex = subIndex.value;\n    const index: any = icon ? event : Number(((event as MouseEvent).target as HTMLElement).dataset.key);\n    \n    // 如果要切换的图片索引和当前的图片索引一致, 则不需要做任何事情\n    if (oldSubIndex === index) return;\n    // 1.停止定时器\n    countDown(true);\n    // 2.清空下标, 并且填充当前index之前的所有下标\n    shiftSub(index);\n\n    // 要切换的图片\n    const shiftImg = imgMap.value[index];\n    // 当前的元素(第一个元素)\n    const firstNode = (bannerElm.value as any as HTMLElement).children[0];\n\n    // @ts-ignore\n    if (!firstNode.src.includes(shiftImg)) {\n      // 不相同的话 要从当前的图片切换到切换的图片, 相同的话 不用动\n      // 如果要切换的图片是当前图片的下一个, 那就直接切换, 不用改变图片的位置(通过路径找索引)\n      var shiftIndex = props.images.indexOf(shiftImg);  // 获取切换图片的索引\n      if ((oldSubIndex + 1) == shiftIndex) {\n        // 直接切换即可\n        imgRoll();\n      }\n      // 不是切换到下一个\n      else {\n        // 如果要切换的图片 不是当前图片的下一个 那就要改变一下图片的位置\n        const beforeImgs: Array<any> = [];\n        const currentImg = props.images[oldSubIndex];\n        // @ts-ignore\n        [...bannerElm.value.children].forEach((el, i) => {\n          // 不是切换的照片, 也不是当前的照片\n          if (!el.src.includes(shiftImg.slice(1)) && !el.src.includes(currentImg.slice(1))) {\n            var rmNode = (bannerElm.value as any as HTMLElement).removeChild(el);\n            beforeImgs.push(rmNode);\n          }\n        });\n        imgRoll(beforeImgs);\n      }\n    }\n    // 开启定时器\n    countDown();\n  }\n\n  // 主动切换(icon), 直接调用下标切换即可\n  const iconShift = (flag: ItemType) => {\n    if (flag === 'left') {\n      const index = subIndex.value - 1;\n      // 1.如果当前的图片索引-1小于0, 则切换到最后一张图片\n      index < 0 ? shift(props.images.length - 1, true) : shift(index, true);\n    } else {\n      const index = subIndex.value + 1;\n      index >= props.images.length ? shift(0, true) : shift(index, true);\n    }\n  }\n\n  return {\n    imgMap,\n    iconShift,\n    imgRoll,\n    clearSub,\n    shiftSub,\n    countDown,\n    shift,\n    receiveBannerBox,\n    receiveSubfixItem,\n    receiveSubfixItemInner\n  }\n}\n\nexport { useCarousel }\n","\nimport { defineComponent, onMounted, nextTick, computed } from \"vue\";\nimport { useCarousel } from \"./useCarousel.ts\";\nimport Icon from '@/components/Icon.vue';\nexport default defineComponent({\n  name: \"Carousel\",\n  components: {\n    'v-icon': Icon\n  },\n  props: {\n    round: {\n      type: Boolean,\n      default: false\n    },\n    images: {\n      type: Array,\n      default: () => []\n    },\n    iconRound: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props, content) {\n    const use = useCarousel(props, content);\n    const iconClass = computed(() => {\n      const classes = [];\n      classes.push(props.iconRound ? 'icon-round' : 'icon-plane');\n      return classes;\n    });\n    onMounted(() => {\n      nextTick(() => {\n        use.countDown();\n      });\n    });\n    return { ...use, iconClass };\n  }\n});\n","import { render } from \"./Carousel.vue?vue&type=template&id=159caf48&scoped=true\"\nimport script from \"./Carousel.vue?vue&type=script&lang=ts\"\nexport * from \"./Carousel.vue?vue&type=script&lang=ts\"\n\nimport \"./Carousel.vue?vue&type=style&index=0&id=159caf48&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-159caf48\"\n\nexport default script","import { defineComponent as _defineComponent } from 'vue'\nimport { ref, inject, watch } from \"vue\";\nimport SearchBar from \"@/components/SearchBar.vue\";\nimport AppleButton from \"@/components/apple/AppleButton.vue\";\nimport Tabs from '@/components/Tabs.vue';\nimport Carousel from '@/components/carousel/Carousel.vue';\nimport AppleSwitch from '@/components/apple/AppleSwitch.vue';\nimport VInput from '@/components/Input.vue';\nimport VMenu from '@/components/navigation/Menu.vue';\nimport Drawer from '@/components/Drawer.vue';\nimport { IMessage } from \"@/interface/IUse\";\nimport { refresh } from '@/utils'\n\nconst __default__ = { name: 'Test' }\n\nexport default _defineComponent({\n  ...__default__,\n  expose: [],\n  setup(__props) {\n\nconst $message: IMessage = inject('message') as IMessage;\nconst searchValue = ref(\"\");\nconst tabs = ref(['图片', '视频', '音乐', 'veloma']);\nconst images = ref([require('../assets/banner/1.jpg'), require('../assets/banner/2.jpg'), require('../assets/banner/3.jpg')]);\nconst state = ref(true);\nconst menuExpand = ref(true);\nconst pageLoading = ref(false);\nconst visible = ref(false);\nwatch(state, (v) => {\n  $message({\n    type: v ? 'success' : 'warning',\n    content: `watch监听到状态发生变化: ${v}`\n  });\n}, { immediate: true });\n\n/* 搜索 */\nconst search = (v: string) => {\n  $message({\n    type: 'success',\n    content: `点击搜索: ${v}`\n  });\n};\n/* 接收点击 */\nconst receiveClick = () => {\n  $message({\n    type: 'info',\n    content: '按钮点击'\n  });\n};\n/* 标签变化 */\nconst tabsChange = (info: { name: string }) => {\n  const { name } = info;\n  $message({\n    type: 'info',\n    content: `标签切换: ${name}`\n  });\n};\n/* switch状态变化 */\nconst receiveStateChange = (v: boolean) => {\n  $message({\n    type: v ? 'success' : 'warning',\n    content: `change事件接收到状态发生变化: ${v}`\n  });\n}\n\nrefresh('test', () => {\n  pageLoading.value = true;\n  setTimeout(() => {\n    pageLoading.value = false;\n  }, 2000);\n});\n\nreturn { $message, searchValue, tabs, images, state, menuExpand, pageLoading, visible, search, receiveClick, tabsChange, receiveStateChange, ref, inject, watch, SearchBar, AppleButton, Tabs, Carousel, AppleSwitch, VInput, VMenu, Drawer, IMessage, refresh }\n}\n\n})","import script from \"./Test.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Test.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Test.vue?vue&type=style&index=0&id=6db26936&scoped=true&lang=css\"\nscript.__scopeId = \"data-v-6db26936\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Test.vue?vue&type=style&index=0&id=6db26936&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Carousel.vue?vue&type=style&index=0&id=159caf48&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/3.91af3e8b.jpg\";"],"sourceRoot":""}